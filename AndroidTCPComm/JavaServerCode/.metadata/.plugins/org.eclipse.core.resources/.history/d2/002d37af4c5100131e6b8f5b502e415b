import java.awt.AWTException;
import java.awt.Robot;
import java.awt.event.InputEvent;
import java.awt.event.KeyEvent;
import gc.common_resources.*;

public class KeyTouch {
    
  private static final int DELAY= 100;
  public void identifyKey(CommandType command) {      
        try {            
            Robot robot = new Robot();
            
            switch(command) {
	            case ACTION: //E.g. Shooting
<<<<<<< HEAD:AndroidTCPComm/JavaServerCode/.metadata/.plugins/org.eclipse.core.resources/.history/d2/002d37af4c5100131e6b8f5b502e415b
	            	robot.keyPress(KeyEvent.VK_SPACE);
	                robot.delay(DELAY);
		        	robot.keyRelease(KeyEvent.VK_SPACE);
	            	break;
	            case VIEW:	//Should get X and Y from phone gyrometer/gravity for moving the mouse
	            	if(command.getX()==0&&command.getY()==0)
	            		robot.mouseMove(350,226);
	            	else if(command.getX()==0&&command.getY()==1) //right
	            		robot.mouseMove(500,226);
	            	else if(command.getX()==1&&command.getY()==0) //left
	            		robot.mouseMove(350,226);
	            	else
	            		robot.mouseMove(350,226);	            	
=======
	            	robot.mousePress(InputEvent.BUTTON1_MASK);
	                robot.delay(10);
	                robot.mouseRelease(InputEvent.BUTTON1_MASK);
	            	break;
	            case VIEW:	//Should get X and Y from phone for moving the mouse
	            	//X: 10 - 300, Y: 210 - 500
	            	System.out.println("Received - X: "+command.getY()+" Y: "+command.getX());
	            	float x = 1366 - ((command.getY()-110)/290 * 1366);
	            	float y = (command.getX()-210)/290 * 768;
	            	robot.mouseMove((int)x, (int)y);
	            	//System.out.println("View - X: "+x+" Y: "+y);
>>>>>>> 92478ffe591936c0b248eb772cacf8106841e73d:JavaServerCode/ServerSideComm/src/KeyTouch.java
	            	break;
	            //From here on all keyboard cases
	            case KEYBOARD_UP:	
	                robot.keyPress(KeyEvent.VK_UP);
	                robot.delay(DELAY);
		        	robot.keyRelease(KeyEvent.VK_UP);
	            	break;
	            case KEYBOARD_DOWN:
		            robot.keyPress(KeyEvent.VK_DOWN); 
	                robot.delay(DELAY);
		        	robot.keyRelease(KeyEvent.VK_DOWN);
	            	break;
	            case KEYBOARD_RIGHT:
	            	robot.keyPress(KeyEvent.VK_RIGHT);  
	                robot.delay(DELAY);
	            	robot.keyRelease(KeyEvent.VK_RIGHT);
	            	break;
	            case KEYBOARD_LEFT:
	                robot.keyPress(KeyEvent.VK_LEFT);
	                robot.delay(DELAY);
		        	robot.keyRelease(KeyEvent.VK_LEFT);
	            	break;
	            case KEYBOARD_UP_RIGHT:
	                robot.keyPress(KeyEvent.VK_UP);
	            	robot.keyPress(KeyEvent.VK_RIGHT); 
	                robot.delay(DELAY);
		        	robot.keyRelease(KeyEvent.VK_UP); 
	            	robot.keyRelease(KeyEvent.VK_RIGHT);
	            	break;
	            case KEYBOARD_DOWN_RIGHT:
		            robot.keyPress(KeyEvent.VK_DOWN); 
	            	robot.keyPress(KeyEvent.VK_RIGHT); 
	                robot.delay(DELAY);
		        	robot.keyRelease(KeyEvent.VK_DOWN); 
	            	robot.keyRelease(KeyEvent.VK_RIGHT);
	            	break;
	            case KEYBOARD_UP_LEFT:
	                robot.keyPress(KeyEvent.VK_UP);
	                robot.keyPress(KeyEvent.VK_LEFT);
	                robot.delay(DELAY);
		        	robot.keyRelease(KeyEvent.VK_UP);
		        	robot.keyRelease(KeyEvent.VK_LEFT);
	            	break;
	            case KEYBOARD_DOWN_LEFT:
		            robot.keyPress(KeyEvent.VK_DOWN); 
	                robot.keyPress(KeyEvent.VK_LEFT);
	                robot.delay(DELAY);
		        	robot.keyRelease(KeyEvent.VK_DOWN);
		        	robot.keyRelease(KeyEvent.VK_LEFT);
	            	break;
	            default: //Should not come here Print the type
	            		System.out.println("In keyTouch. Unexpected CommandType: "+command);
	            	break;
            }            
        } catch (AWTException e) {
            e.printStackTrace();
        }
    }
}
